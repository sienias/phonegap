<!DOCTYPE html>
<html>
  <head>
    </head>
  <body>
    <button onclick="login()">Login</button>
        
    <div id="data">loading ...</div>
    <div id="fb-root"></div>
    <!-- cordova -->
    <script src="cordova.js"></script>
    <!-- cordova facebook plugin -->
    <script src="cdv-plugin-fb-connect.js"></script>
    <!-- facebook js sdk -->
    <script src="facebook-js-sdk.js"></script>
    <script>
    if ((typeof cordova == 'undefined') && (typeof Cordova == 'undefined')) alert('Cordova variable does not exist. Check that you have included cordova.js correctly');
    if (typeof CDV == 'undefined') alert('CDV variable does not exist. Check that you have included cdv-plugin-fb-connect.js correctly');
    if (typeof FB == 'undefined') alert('FB variable does not exist. Check that you have included the Facebook JS SDK file.');
    
    FB.Event.subscribe('auth.login', function(response) {
                       alert('auth.login event');
                       });
    
    FB.Event.subscribe('auth.logout', function(response) {
                       alert('auth.logout event');
                       });
    
    FB.Event.subscribe('auth.sessionChange', function(response) {
                       alert('auth.sessionChange event');
                       });
    
    FB.Event.subscribe('auth.statusChange', function(response) {
                       alert('auth.statusChange event');
                       });
    


    var fbLoginSuccess = function (userData) {
        alert("UserInfo: " + JSON.stringify(userData));
    }
    function login() {
      facebookConnectPlugin.login(["basic_info"], 
          fbLoginSuccess, 
          function (error) { alert("" + error) }
      );              
    }

    
    document.addEventListener('deviceready', function() {
      try {
      alert('Device is ready! Make sure you set your app_id below this alert.');
      FB.init({ appId: "XXX", nativeInterface: CDV.FB, useCachedDialogs: false });
      document.getElementById('data').innerHTML = "";
      } catch (e) {
      alert(e);
      }
      }, false);
    </script>
    <div id="log"></div>
  </body>
</html>